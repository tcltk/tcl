Tcl 8.4 for Windows

RCS: @(#) $Id: README,v 1.21 2001/07/05 01:02:52 uid38172 Exp $

1. Introduction
---------------

This is the directory where you configure and compile the Windows
version of Tcl.  This directory also contains source files for Tcl
that are specific to Microsoft Windows.

The information in this file is maintained on the web at:
	http://www.purl.org/tcl/home/doc/howto/compile.html#win

2. Compiling Tcl
----------------

In order to compile Tcl for Windows, you need the following items:

	Tcl 8.4 Source Distribution (plus any patches)

	Visual C++ 4+

        or

        Cygwin 1.1 (See http://sources.redhat.com/cygwin)

In practice, this release is built with Visual C++ 6.0

In the "win" subdirectory of the source release, you will find
"makefile.vc".  This is the makefile Visual C++ compiler.  You should
update the paths at the top of the file to reflect your system
configuration.  Now you can use "make" (or "nmake" for VC++) to build
the tcl libraries and the tclsh executable.

If you are building with Cygwin, you can use the configure script
that lives in the win subdirectory. The Cygwin based configure/build
process works just like the UNIX one, so you will want to refer to
../unix/README for available configure options.

In order to use the binaries generated by these makefiles, you will
need to place the Tcl script library files someplace where Tcl can
find them.  Tcl looks in one of following places for the library files:

	1) The path specified in the environment variable "TCL_LIBRARY".

	2) In the lib\tcl8.4 directory under the installation directory
	   as specified in the registry:

		HKEY_LOCAL_MACHINE\SOFTWARE\Scriptics\Tcl\8.4

	3) Relative to the directory containing the current .exe.
	    Tcl will look for a directory "..\lib\tcl8.4" relative to the
	    directory containing the currently running .exe.

Note that in order to run tclsh84.exe, you must ensure that tcl84.dll
and tclpip84.dll are on your path, in the system directory, or in the 
directory containing tclsh84.exe.

Note: Tcl no longer provides support for Win32s.

This page includes a lengthy discussion of compiler macros necessary
when compiling Tcl extensions that will be dynamically loaded.

3. Test suite
-------------

This distribution contains an extensive test suite for Tcl.  Some of
the tests are timing dependent and will fail from time to time.  If a
test is failing consistently, please send us a bug report with as much
detail as you can manage.  Please use the online database at
	http://tcl.sourceforge.net/

In order to run the test suite, you build the "test" target using the
appropriate makefile for your compiler.
